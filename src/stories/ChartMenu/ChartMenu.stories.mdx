import {Meta} from '@storybook/addon-docs/blocks';

<Meta title="Examples/Chart Menu/README"/>

# Chart Menu Examples

This page provides various examples of customizing Chart Menu.

<br/>

## Example - Custom menu for sunburst chart

This example shows how to add a menu with custom actions for a sunburst chart.

### Steps

Implement custom component which adds setting to enable/disable hover action for a sunburst chart.

```jsx
const withSunburstSettings = R.curry((WrappedChart, props) => {
        const chartSettings = {
            sunburstSettings: [
                {name: 'hovered', label: 'Hovered'}
            ]
        };
        return <WrappedChart {...props} chartSettings={chartSettings}/>;
    });
```

Implement a custom factory component for the DefaultChartContainer component where we add the custom action into the compose function.

```jsx
    const CustomChartFactory = (props) => {
        const {Component = DefaultChartContainer, ...otherProps} = props;

        const Chart = R.compose(
            withChartConfigLoader,
            withSunburstSettings
        )(Component);

        return (
            <Chart {...otherProps} />
        );
    };
```

Create mapping conditions for the domain components.

```jsx
    const DomainComponentMapping = R.cond([
        [R.propEq('type', 'chart'), CustomChartFactory]
    ]);
```

Implement the domain component factory in the way that the domain component mapping comes first.

```jsx
    const DomainComponentFactory = (props) => DomainComponentMapping(props) || DefaultComponentFactory(props)
```

<br/>

## Example - Remove menu for composite chart

This example shows how to remove a default menu for a composite chart.

### Steps

Implement custom component which removes a default menu for a composite chart.

```jsx
 const withoutCompositeChartSettings = R.curry((WrappedChart, props) => {
        const chartSettings = {
            compositeChartSettings: null
        };
        return <WrappedChart {...props} chartSettings={chartSettings}/>;
    });
```

Implement a custom factory component for the DefaultChartContainer component where we add the custom action into the compose function.

```jsx
    const CustomChartFactory = (props) => {
        const {Component = DefaultChartContainer, ...otherProps} = props;

        const Chart = R.compose(
            withChartConfigLoader,
            withoutCompositeChartSettings
        )(Component);

        return (
            <Chart {...otherProps} />
        );
    };
```

Create mapping conditions for the domain components.

```jsx
    const DomainComponentMapping = R.cond([
        [R.propEq('type', 'chart'), CustomChartFactory]
    ]);
```

Implement the domain component factory in the way that the domain component mapping comes first.

```jsx
    const DomainComponentFactory = (props) => DomainComponentMapping(props) || DefaultComponentFactory(props)
```
