import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';

<Meta title="Examples/Grid View/README"/>

# Grid View Examples

This page provides various examples of customizing the GridView component.

<br/>

## Example - Custom toolbar action

This example shows how to add a custom action component into the gridView configuration that rendered in the grid toolbar.

### Steps

Implement custom component that prints "Hello World" underneath the grid.

```jsx
const withGridViewPrintAction = R.curry((WrappedGrid, props) => {
    const {id: gridId, defaultActions = []} = props;

    const [msg, updateMsg] = useState();

    const onRefreshHandler = () => updateMsg("Hello World");

    const _defaultActions = [
        ...defaultActions,
        <Tooltip title="Print" key={`${gridId}-print-action`} role="tooltip">
            <IconButton onClick={onRefreshHandler} role="button" aria-label="Refresh">
                <Print/>
            </IconButton>
        </Tooltip>,
    ];

    return (
        <>
            <WrappedGrid {...props} defaultActions={_defaultActions}/>

            <Typography variant="h1">{msg}</Typography>
        </>
    );
});
```

Implement a custom factory component for the GridView component where we add the custom action into the compose function.

```jsx
const GridViewFactory = (props) => {

    const ComposedGridView = R.compose(
        withGridViewConfigLoader,
        withGridViewDefaultActions,
        withGridViewActionExecutor,
        withCriteriaStateListener(null),
        withGridViewQueryLoader,
        withGridViewSorting,
        withGridViewSelection,
        withGridViewPagination,
        withGridViewPrintAction
    )(GridView);

    return (
        <ComposedGridView {...props}/>
    );
};
```

Create mapping conditions for the domain components.

```jsx
const DomainComponentMapping = R.cond([
    [R.propEq('type', 'grid'), GridViewFactory],
]);
```

Implement the domain component factory in the way that the domain component mapping comes first.

```jsx
const DomainComponentFactory = (props) => DomainComponentMapping(props) || DefaultComponentFactory(props)
```