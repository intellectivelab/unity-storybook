import {Meta} from '@storybook/addon-docs/blocks';

<Meta title="Examples/Components/Criteria/README"/>

# Criteria Examples

This page provides various examples of customizing the Criteria component.

<br/>

## Example - Use custom reset action

This example shows how to use a custom action in default PrimaryToolbar implementation.

### Steps

Implement High Ordered Component to pass toolbar and mentioned action.

```jsx
const withCustomCriteriaToolbar = R.curry((WrappedCriteria, props) => {

    const {id, PrimaryToolbar = CriteriaPrimaryToolbar} = props;

    const dispatch = useDispatch();

    /*
     * Create Action component and pass it to actions list
     */

    const onClickHandler = () => dispatch(criteria.resetFilters());

    const FlushAction = () => <IconButton role="button" size="medium" onClick={onClickHandler}>
        <AriaHidden>Reset</AriaHidden>
        <Tooltip edge="start" title='Reset filters' role="tooltip">
            <DeleteIcon fontSize='medium' color='primary' key={`${id}-criteria-flush`}/>
        </Tooltip>
    </IconButton>;

    const actions = [
        <FlushAction/>
    ];

    /*
     * Pass actions list into default PrimaryToolbar implementation
     */

    return (
        <>
            <PrimaryToolbar {...props} actions={actions}/>

            <WrappedCriteria {...props}/>
        </>
    );

});
```

Implement a custom factory component for the Criteria component to compose with withCustomCriteriaToolbar HOC.

```jsx
    const CustomCriteriaFactory = props => {

        const {Component = Criteria, children, ...otherProps} = props;

        const ComposedCriteria = R.compose(
            withCriteriaConfigLoader,
            withCriteriaDefaultValues,
            withCustomCriteriaToolbar
        )(Component);

        return (
            <ComposedCriteria {...otherProps}>
                {children}
            </ComposedCriteria>
        );
    };
```

Create mapping conditions for the domain components.

```jsx
    const DomainComponentFactory = R.cond([
        [R.propEq('type', 'criteria'), CustomCriteriaFactory],
        [R.T, DefaultComponentFactory]
    ]);
```
